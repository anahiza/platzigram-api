{"version":3,"sources":["pictures-test.js"],"names":["t","id","v4","enc","encode","console","log","image","getImage","srv","url","body","publicId","json","deepEqual","todo"],"mappings":"AAAA;;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,mBAAK,UAAL;AAAA,6CAAiB,WAAMA,CAAN,EAAW;AAAA;AAAA;;AAC1B,QAAIC,KAAK,mBAAKC,EAAL,EAAT;AACA,QAAIC,MAAM,mBAAKC,MAAL,CAAYH,EAAZ,CAAV;AACAI,YAAQC,GAAR,CAAYL,EAAZ,EAAgBE,GAAhB;;AAEA,QAAII,QAAQ,mBAASC,QAAT,EAAZ;AACA,QAAIC,MAAM,wCAAV;AACA,QAAIC,MAAM,MAAM,0BAAOD,GAAP,CAAhB;AACA,QAAIE,OAAO,MAAM,8BAAQ,EAAED,KAAM,IAAEA,GAAI,MAAGH,MAAMK,QAAS,GAAhC,EAAmCC,MAAM,IAAzC,EAAR,CAAjB;AACAb,MAAEc,SAAF,uBAAYH,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAkB,EAAEJ,YAAF,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACD,GAVD;;AAAA;AAAA;AAAA;AAAA;;AAYA,cAAKQ,IAAL,CAAU,QAAV;AACA,cAAKA,IAAL,CAAU,gBAAV","file":"pictures-test.js","sourcesContent":["'use strict'\r\n\r\nimport test from 'ava'\r\nimport uuid from 'uuid-base62'\r\nimport listen from 'test-listen'\r\nimport request from 'request-promise'\r\nimport pictures from '../pictures'\r\nimport micro from 'micro'\r\nimport fixtures from './fixtures/'\r\n\r\ntest('GET /:id', async t => {\r\n  let id = uuid.v4()\r\n  let enc = uuid.encode(id)\r\n  console.log(id, enc)\r\n\r\n  let image = fixtures.getImage()\r\n  let srv = micro(pictures)\r\n  let url = await listen(srv)\r\n  let body = await request({ url: `${url}/${image.publicId}`, json: true })\r\n  t.deepEqual(body, { image })\r\n})\r\n\r\ntest.todo('POST /')\r\ntest.todo('POST /:id/like')\r\n"]}